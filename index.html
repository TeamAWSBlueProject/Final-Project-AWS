<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festiva - Felicitaciones Navideñas</title>
    <link rel="stylesheet" href="santa.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎄 Festiva: Comparte la Magia Navideña 🎅</h1>
            <p>Conecta, Felicita, Celebra</p>
        </header>

        <nav>
            <a href="#create">Crear Felicitación</a>
            <a href="#gallery">Galería</a>
            <a href="#invite">Invitar Amigos</a>
        </nav>

        <section id="create">
            <h2 class="section-title">Crea tu Felicitación Navideña</h2>
            <div id="greeting-creator">
                <!-- El formulario para crear felicitaciones se agregará dinámicamente -->
            </div>
        </section>

        <section id="gallery">
            <h2 class="section-title">Galería de Felicitaciones</h2>
            <div id="greetings-gallery" class="gallery">
                <!-- Las felicitaciones se agregarán dinámicamente -->
            </div>
        </section>

        <section id="invite">
            <h2 class="section-title">Invita a tus Amigos</h2>
            <div id="invitation-section">
                <!-- El formulario de invitación se agregará dinámicamente -->
            </div>
        </section>

        <div class="promo-banner">
            "Cada felicitación cuenta una historia. ¡Comparte la tuya!" 
        </div>
    </div>

    <footer class="site-footer">
        <div class="ec2-info">
            Servido desde <p id="ec2-hostname">EC2 response: $(hostname -f)</p>
        </div>
    </footer>

    <script>
        // Configurar un valor predeterminado (será reemplazado por user-data)
        const defaultHostname = 'localhost';

        // Datos de ejemplo de felicitaciones
        const sampleGreetings = [
            {
                id: 1,
                author: "María",
                message: "¡Feliz Navidad a toda mi familia!",
                style: "❄️ Blanco Nevado",
                likes: 24
            },
            {
                id: 2,
                author: "Carlos",
                message: "Que la magia de la Navidad llene sus hogares de amor",
                style: "🎄 Árbol de Navidad",
                likes: 36
            }
        ];

        // Plantillas de felicitaciones predefinidas
        const greetingTemplates = [
            "¡Feliz Navidad y próspero Año Nuevo!",
            "Que la paz y el amor reinen en estas fiestas",
            "Un abrazo navideño lleno de cariño para ti",
            "Que Santa traiga alegría a tu hogar"
        ];

        // Inicialización de la aplicación
        document.addEventListener('DOMContentLoaded', () => {
            // Mostrar el hostname predeterminado o actualizado
            document.getElementById('ec2-hostname').textContent = defaultHostname;

            // Funciones para la aplicación
            renderGreetingCreator();
            renderGreetingsGallery();
            renderInvitationSection();
        });

        // Renderizar el creador de felicitaciones
        function renderGreetingCreator() {
            const container = document.getElementById('greeting-creator');
            container.innerHTML = `
                <form id="greeting-form">
                    <input type="text" id="author-name" placeholder="Tu nombre" required>
                    <select id="greeting-style">
                        <option value="❄️ Blanco Nevado">❄️ Blanco Nevado</option>
                        <option value="🎄 Árbol de Navidad">🎄 Árbol de Navidad</option>
                        <option value="🎅 Santa Claus">🎅 Santa Claus</option>
                    </select>
                    <textarea id="greeting-message" placeholder="Escribe tu mensaje navideño" required></textarea>
                    <button type="submit">Crear Felicitación</button>
                </form>
            `;

            document.getElementById('greeting-form').addEventListener('submit', createGreeting);
        }

        // Crear una nueva felicitación
        function createGreeting(e) {
            e.preventDefault();
            const name = document.getElementById('author-name').value;
            const style = document.getElementById('greeting-style').value;
            const message = document.getElementById('greeting-message').value;

            const newGreeting = {
                id: sampleGreetings.length + 1,
                author: name,
                message: message,
                style: style,
                likes: 0
            };

            sampleGreetings.push(newGreeting);
            renderGreetingsGallery();
            renderInvitationSection();
        }

        // Renderizar galería de felicitaciones
        function renderGreetingsGallery() {
            const gallery = document.getElementById('greetings-gallery');
            gallery.innerHTML = '';

            sampleGreetings.forEach(greeting => {
                const card = document.createElement('div');
                card.classList.add('greeting-card');
                card.innerHTML = `
                    <h3>${greeting.style}</h3>
                    <p>${greeting.message}</p>
                    <small>Por ${greeting.author}</small>
                    <div class="greeting-actions">
                        <button onclick="likeGreeting(${greeting.id})">❤️ ${greeting.likes} Likes</button>
                    </div>
                `;
                gallery.appendChild(card);
            });
        }

        // Aumentar likes en una felicitación
        function likeGreeting(id) {
            const greeting = sampleGreetings.find(g => g.id === id);
            if (greeting) {
                greeting.likes++;
                renderGreetingsGallery();
            }
        }

        // Renderizar sección de invitaciones
        function renderInvitationSection() {
            const container = document.getElementById('invitation-section');
            container.innerHTML = `
                <div class="invite-card">
                    <h3>Invita a tus Amigos</h3>
                    <p>¡Comparte Festiva y gana puntos!</p>
                    <input type="email" id="friend-email" placeholder="Correo de tu amigo">
                    <button onclick="inviteFriend()">Enviar Invitación</button>
                    <p class="invite-bonus">Cada invitación te da +10 puntos</p>
                </div>
            `;
        }

        function inviteFriend() {
            const email = document.getElementById('friend-email').value;
            if (email) {
                alert(`Invitación enviada a ${email}`);
            }
        }
    </script>
</body>
</html>
